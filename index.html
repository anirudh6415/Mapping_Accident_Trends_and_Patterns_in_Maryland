<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accident ðŸ˜­</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/rbush"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./main.css">
</head>


    <header>
        <h1>Mapping Accident Trends and Patterns in Maryland</h1>
        <h2>A Data-Driven Story</h2>
        <p style="text-align: center;">Data Visualization Course Projects | Aman-Anirudh-Ashutosh-Harsh-Soumya</p>
    </header>
<body>
    <section id="introduction">
        <h2>Introduction</h2>
        <p>
            Road safety is a shared responsibility, but understanding what drives accidents can be complex. In <strong style="color: aqua;">Montgomery County</strong>, thousands of traffic accidents occur each year, influenced by a mix of environmental conditions, driver behavior, and vehicle design. This project brings these stories to life through a series of engaging visualizations, each highlighting a unique aspect of accident dynamics.
            <br><br>
            Starting with a geo-spatial map to pinpoint hotspots, the journey explores not just where accidents happen but also the factors behind themâ€”like lighting, weather, and road conditions. One of the most novel visualizations, the Car-in-a-Clock, maps collision points onto a clock face to reveal how impact direction and vehicle type influence injury severity. From stacked bar charts to mosaic charts and a treemap, each visualization connects the dots between data and actionable insights. Along with these we also explored how car's country of origin and build year affect the severity of injuries. Together, they provide a fresh perspective on traffic safety, inviting everyoneâ€”from policymakers to everyday driversâ€”to join the effort to create safer roads.

        </p>
    </section>

    <div class="container">
        <div class="chart-container">
            <svg id="geospatial-svg" width="100%" height="100%" viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
        <div class="text-container">
            <h3>Geospatial map for locations and accident severity</h3>
            <div class="info-icon">
                <i class="fa-solid fa-circle-info fa-sm" style="color: #e3e3e3;"></i>
                <div class="tooltip">
                    <span style="font-weight: bold;">â€¢ Region Selection:</span> Use the dropdown to filter by accident severity.<br><br>
                    <span style="font-weight: bold;">â€¢ Toggle Markers:</span> Use the checkbox to show/hide accident markers.<br><br>
                    <span style="font-weight: bold;">â€¢ Legend:</span> Displays severity color scale.<br><br>
                    <span style="font-weight: bold;">â€¢ Postal Region Details:</span> Hover to view accident counts.<br><br>
                    <span style="font-weight: bold;">â€¢ Accident Details:</span> Hover over location icons to see light conditions, collision type, vehicle details, and severity.<br><br>
                    <span style="font-weight: bold;">â€¢ Purpose:</span> Identify high-risk areas and traffic accident patterns.
                </div>
            </div>
            <p>This map visualizes traffic accident data across Montgomery County, Maryland, highlighting accident severity, locations, and contributing factors. It displays postal areas with varying accident frequencies and severity, helping identify high-risk zones and accident hotspots. The map also shows the relationship between accident types, vehicle involvement, and road safety conditions. By analyzing this data, local authorities can implement targeted safety measures to improve road conditions and reduce accident rates.</p>
        </div>
    </div>
    
    <div class="container">
        <div class="chart-container">
            <svg id="splom-svg" width="100%" height="100%" viewBox="0 0 1200 600" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
        <div class="text-container">
            <h3>Pie chart matrix for comparing accidents against car brands</h3>
            <div class="info-icon">
                <i class="fa-solid fa-circle-info fa-sm" style="color: #e3e3e3;"></i>
                <div class="tooltip">
                    <span style="font-weight: bold;">â€¢ X-Axis:</span> Displays the year range.  <br>
                    <span style="font-weight: bold;">â€¢ Y-Axis:</span> Shows car brands' countries of origin.  <br>
                    <span style="font-weight: bold;">â€¢ Cells:</span> Contain pie charts representing accident severity, with red borders for fatal injury cases.  <br>
                    <span style="font-weight: bold;">â€¢ Hover Interaction:</span> Enlarges the pie and displays exact severity percentages as text labels.
                </div>
            </div>
            <p>
                This pie chart matrix visualization maps accident severity based on the car brand's country of origin and the manufacturing year. The chart highlights how manufacturing defects or older car models may influence the frequency and severity of accidents.
            </p>
        </div>
    </div>
    
        
    <div class="container">
        <div class="chart-container">
            <svg id="heatmap-svg" width="100%" height="100%" viewBox="0 0 1200 300" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
        <div class="text-container">
            <h3>Mosaic charts of Injury severity vs Light conditions</h3>
            <div class="info-icon">
                <i class="fa-solid fa-circle-info fa-sm" style="color: #e3e3e3;"></i>
                <div class="tooltip">
                    Select the two years you want to analyze from the dropdowns. The mosaic charts for the corresponding years will be shown. Hover over each tile for more information.
                </div>
            </div>
            <!-- <p>The mosaic chart shows how lighting conditions, like "Daylight" or "Dusk," correlate with injury severity in traffic accidents. Each segment represents a light condition, divided by injury severities such as "No Apparent Injury" or "Fatal Injury."
                <br><br>
                <span style="font-weight: bold;">Key Insights:</span>
                <br><br>
                <span style="font-weight: bold;">â€¢ Trends:</span> Analyze how lighting impacts injury severity to identify patterns and safety concerns.
                <br><br>
                <span style="font-weight: bold;">â€¢ Interactivity:</span> Filter data by year to compare trends over time.
                <br><br>
                <span style="font-weight: bold;">â€¢ Data Representation:</span> Segment size shows accident counts, and colors reflect injury severity for quick interpretation.
                <br><br>
                This chart aids researchers, policymakers, and safety advocates in improving road safety using data-driven insights.
            </p>             -->
            <p> This mosaic chart illustrates the correlation between lighting conditions and injury severity in traffic accidents. Each segment represents a lighting condition, with color coding for various injury severities. Use this chart to identify and compare trends and patterns for two years that can inform road safety measures.</p>
        </div>
    </div>

    <div class="container">
        <div class="chart-container" style="float: right;">
            <svg id="stacked-bar-chart-svg" width="100%" height="100%" viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
        <div class="text-container">
            <h3>Stacked bar chart matrix for Weather conditions and Light Conditions plotted against No of Accidents</h3>
            <div class="info-icon">
                <i class="fa-solid fa-circle-info fa-sm" style="color: #e3e3e3;"></i>
                <div class="tooltip">
                    Hover over any box to see more interesting numbers and click for a tree map on road conditions.
                </div>
            </div>
            <p>The stacked bar chart compares traffic accidents by light and weather conditions, emphasizing driver fault. It highlights how daylight accidents often result from human error, while adverse weather (e.g., snow, rain) increases risks due to poor visibility and slippery roads. The visualization advocates for adaptive safety measures like public awareness and advanced vehicle technologies.            </p>
        </div>
    </div>
    <div class ="tree-container" style="margin-bottom: 0px;">
        <div class ="tree-chart-container" id="stack-container">       
        <svg id="tree-map" width="100%" height="100%" viewBox="0 0 400 400" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
    </div>
    
    <div class="container" style="display: flex; flex-direction: row-reverse; margin-top: 100px; margin-left: 20px;">
        <div class="chart-container">
            <svg id="car-clock-svg" width="100%" height="100%" viewBox="0 0 1000 700" preserveAspectRatio="xMidYMid meet"></svg>
        </div>
        <div class="text-container">
            <h3>Car in a Clock: Spider chart comparing the number of accidents and injury severity</h3>
            <div class="info-icon">
                <i class="fa-solid fa-circle-info fa-sm" style="color: #e3e3e3;"></i>
                <div class="tooltip">
                    â€¢ Hover over blue points to see accident counts and orange points for injury severity details. 
                    <br><br>
                    â€¢ Link data to real-world scenarios using the car-clock metaphor (e.g., '12 o'clock' = frontal impacts).
                    <br><br>
                    â€¢ Rotate the wheel to compare trends across vehicle types like SUVs or smaller cars.
                    <br><br>
                    â€¢ Click on the blue and orange button on the right to toggle the charts.
                </div>
            </div>
            <p>The <span style="font-weight: bold;">Car-in-a-Clock</span> visualization maps accident data onto a clock face, representing impact directions. At its center is a spider chart that compares accident frequency (blue) and injury severity (orange). Beneath the chart, a car silhouette links data points to real-world scenariosâ€”each clock position corresponds to a specific collision direction (e.g., '12 o'clock' for frontal impacts). A wheel on the right lets users explore how accident trends vary by vehicle type, such as SUVs or smaller cars. This tool highlights patterns in accident dynamics and injury severity influenced by collision direction and vehicle design.</p>
        </div>
    </div>
    


    <script src="./mosaicmap.js"></script>
    <script src="./car_clock.js"></script>
    <script src="./geospatial.js"></script>
    <script src="./splom.js"></script>
    <script src="./stacked_bar_chart.js"></script>
    <script>
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return (
            rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
    }

    function handleScroll() {
        const textContainers = document.querySelectorAll('.text-container');
        textContainers.forEach(container => {
            if (isInViewport(container)) {
                container.classList.add('visible'); // Add the class once when in viewport
            }
        });
    }

    function initializeTooltips() {
        const infoIcons = document.querySelectorAll(".info-icon");

        infoIcons.forEach(icon => {
            const tooltip = document.createElement("div");
            tooltip.classList.add("custom-tooltip");
            tooltip.innerText = icon.getAttribute("title");
            icon.setAttribute("title", "");
            document.body.appendChild(tooltip);

            icon.addEventListener("mouseover", (event) => {
                tooltip.innerText = icon.dataset.tooltip || tooltip.innerText;
                tooltip.style.display = "block";
                tooltip.style.left = event.pageX + 10 + "px";
                tooltip.style.top = event.pageY + 10 + "px";
            });

            icon.addEventListener("mouseout", () => {
                tooltip.style.display = "none";
            });

            icon.addEventListener("mousemove", (event) => {
                tooltip.style.left = event.pageX + 10 + "px";
                tooltip.style.top = event.pageY + 10 + "px";
            });
        });
    }

    window.addEventListener('scroll', handleScroll);
    document.addEventListener('DOMContentLoaded', () => {
        handleScroll(); 
        initializeTooltips();
    });
    </script>
    
    <footer>
        <h3>Interactivity and User-Centric Design</h3>
        <p>
            Dropdowns, tooltips, and clickable features across visualizations enable granular exploration of the data, making the insights accessible to diverse stakeholders, from policymakers to the general public.
        </p>
    
        <h3>Data-Driven Insights for Road Safety</h3>
        <p>
            â€¢ Spatial analysis pinpointed high-risk regions requiring infrastructure upgrades.
            <br />
            â€¢ Behavioral patterns and environmental conditions underscored the need for targeted interventions, such as enhanced driver education during adverse conditions and improved road maintenance.
            <br />
            â€¢ Vehicle-specific trends highlighted gaps in safety standards for older models, driving a call for stricter regulations and consumer awareness of modern safety features.
        </p>
    
        <h3>Final Takeaway</h3>
        <p>
            The visualizations uncover key patterns in Montgomery County's traffic accidents. The geo-spatial map highlights severe collisions in poorly lit, high-traffic areas, while the Car-in-a-Clock reveals that frontal collisions are most frequent, with side impacts causing greater injury severity. Stacked bar charts show that daylight accidents often result from driver error, and treemaps emphasize the risks of icy and wet roads. The mosaic chart connects poor lighting at dawn and dusk to higher injury rates, and the pie chart matrix demonstrates how the vehicle's country of origin and age can affect the accident's severity.
            <br><br>
            This project highlights the influence of weather, surface conditions, and driver behavior, offering clear takeaways for prevention. Itâ€™s a reminder that safer roads require a combination of smarter design, better technology, and mindful driving. By transforming data into insights and insights into action, we can make roads in Montgomery Countyâ€”and beyondâ€”safer for everyone, one journey at a time.
        </p>
    </footer>
        
</body>

</html>
